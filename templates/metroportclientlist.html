{extends file="layout.html"}
{block name="module_content"}

<style>
.alert {
    padding: 10px 15px;
    border-radius: 5px;
    margin-bottom: 15px;
    font-size: 14px;
}

.alert-success {
    background-color: #d4edda;
    border: 1px solid #c3e6cb;
    color: #155724;
}

.alert-danger {
    background-color: #f8d7da;
    border: 1px solid #f5c6cb;
    color: #721c24;
}

.alert-warning {
    background-color: #fff3cd;
    border: 1px solid #ffeeba;
    color: #856404;
}

.fsecure-services-list {
    list-style-type: disc;
    padding-left: 20px;
}

.fsecure-services-list li {
    margin-bottom: 5px;
}
</style>
<h2>Lista klientów w systemie MMS - Metroport.</h2>

{if $metroportclientlistResult.status == 'success' && $metroportclientlistResult.data|@count > 0}


<table cellpadding class="lmsbox lms-ui-datatable " id=genieacscustomerdevlist>
        <colgroup>
                <col >
                <col >
                <col >
                <col >
                <col >
                <col >
                <col >
		<col >
		<col>
        </colgroup>
        <thead>
	     <tr>
		<td>
		    <strong>Id MMS</strong>
		</td>
		<td>
		    <strong>Nazwisko/Nazwa (LMS USERNAME)</strong>
		</td>
		<td>
		    <strong>Imię</strong>
		</td>
		<td>
		    <strong>Adres</strong>
		</td>
		<td>
		    <strong>e-mail</strong>
		</td>
		<td>
		    <strong>PESEL</strong>
		</td>
		<td>
		    <strong>NIP</strong>
		</td>
		<td></td><td></td>
	    </tr>

        </thead>
        <tbody>
            {cycle values="lucid,light" print=false}
		{section name=customerlist loop=$metroportclientlistResult.data.1 start=$start max=$pagelimit}
		    <tr data-device-id="{$netdevlist[netdevlist].device_id|escape}" class="highlight {cycle advance=false}">
			<td class="valign-top">
			    {$metroportclientlistResult.data.1[customerlist].userid}
			</td>
			<td class="valign-top">
			    {$metroportclientlistResult.data.1[customerlist].lastname} ( <span style="color: #800000;"><a href="?m=customerinfo&id={$metroportclientlistResult.data.1[customerlist].lms_user_id}">{$metroportclientlistResult.data.1[customerlist].lms_username}</a></span> )
			</td>
			<td class="valign-top">
			    {$metroportclientlistResult.data.1[customerlist].name}
			</td>
			<td class="valign-top">
			    {$metroportclientlistResult.data.1[customerlist].zip1} {$metroportclientlistResult.data.1[customerlist].city1} {$metroportclientlistResult.data.1[customerlist].streetname1}  {$metroportclientlistResult.data.1[customerlist].streetno1}
			    {if {$metroportclientlistResult.data.1[customerlist].local1} != ""}
				/{$metroportclientlistResult.data.1[customerlist].local1}
			    {/if}
			</td>
			<td class="valign-top">
			    {$metroportclientlistResult.data.1[customerlist].email}
			</td>
			<td class="valign-top">
			    {$metroportclientlistResult.data.1[customerlist].pesel}
			</td>
			<td class="valign-top">
			    {$metroportclientlistResult.data.1[customerlist].nip}
			</td>
			<td></td><td></td>
		    </tr>
                        {sectionelse}
                        <tr>
			    <td colspan="9" class="empty-table">
				    <p>Brak klientów w systemie MMS.</p>
			    </td>
                        </tr>
                {/section}
        </tbody>
        <tfoot>
                <tr>
		    <td colspan="8" class="text-center">
			<strong>
				{trans("Total:")} {$listdata.total|default:"0"}
			</strong>
		    </td>
		    <td></td>
                </tr>
        </tfoot>
</table>


{elseif $metroportclientlistResult.status == 'error'}
    <div class="alert alert-danger">
        {$metroportclientlistResult.message}
    </div>

{else}
    <div class="alert alert-info">
        Brak usług F-Secure do wyświetlenia.
    </div>
{/if}
{/block}
